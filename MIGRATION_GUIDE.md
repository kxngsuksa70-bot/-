# üöÄ MySQL to Supabase Migration Guide

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Migrate ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### 1. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Supabase
```bash
# ‡∏£‡∏±‡∏ô SQL ‡πÉ‡∏ô Supabase SQL Editor ‡∏Å‡πà‡∏≠‡∏ô
# ‡πÑ‡∏ü‡∏•‡πå: SETUP_SUPABASE.sql
```

### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö MySQL
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ MySQL server ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà
# ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô database 'teachmap_db'
```

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ:
```env
SUPABASE_HOST=db.hbbqwcesmwqnfgkmdayp.supabase.co
SUPABASE_PORT=5432
SUPABASE_DB=postgres
SUPABASE_USER=postgres
SUPABASE_PASSWORD=your_supabase_password_here
```

### 4. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç MySQL Config (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `migrate_mysql_to_supabase.py` ‡πÅ‡∏Å ‡πâ‡πÑ‡∏Ç:
```python
MYSQL_CONFIG = {
    'host': 'localhost',
    'user': 'root',
    'password': '1234',  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô password ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
    'database': 'teachmap_db'
}
```

### 5. ‡∏£‡∏±‡∏ô Migration Script

```bash
python migrate_mysql_to_supabase.py
```

## ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

```
============================================================
üöÄ MySQL ‚Üí Supabase Migration Tool
============================================================
‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ MySQL ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Supabase ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

============================================================
üì¶ ‡πÄ‡∏£‡∏¥‡πà‡∏° Migration
============================================================

üìã ‡∏Å‡∏≥‡∏•‡∏±‡∏á migrate ‡∏ï‡∏≤‡∏£‡∏≤‡∏á teachers...
  ‚úÖ Migrate 10 teachers ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

üìã ‡∏Å‡∏≥‡∏•‡∏±‡∏á migrate ‡∏ï‡∏≤‡∏£‡∏≤‡∏á students...
  ‚úÖ Migrate 50 students ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

üìã ‡∏Å‡∏≥‡∏•‡∏±‡∏á migrate ‡∏ï‡∏≤‡∏£‡∏≤‡∏á schedule...
  ‚úÖ Migrate 150 schedules ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

üîß ‡∏Å‡∏≥‡∏•‡∏±‡∏á reset sequence counters...
  ‚úÖ Reset sequences ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

============================================================
‚úÖ Migration ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!
============================================================
üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà migrate:
   - Teachers:  10 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
   - Students:  50 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
   - Schedules: 150 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
   - ‡∏£‡∏ß‡∏°:       210 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

üéâ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡∏π‡∏Å migrate ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Supabase ‡πÅ‡∏•‡πâ‡∏ß!
```

## ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á Script

‚úÖ **‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å MySQL** - ‡∏ó‡∏±‡πâ‡∏á teachers, students, schedule
‚úÖ **Conflict Handling** - ‡∏ñ‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥‡∏à‡∏∞‡∏ó‡∏≥‡∏Å‡∏≤‡∏£ update ‡πÅ‡∏ó‡∏ô insert
‚úÖ **UTF-8 Support** - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
‚úÖ **Sequence Reset** - reset auto-increment counters
‚úÖ **Error Handling** - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ error ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
‚úÖ **Progress Display** - ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

## Troubleshooting

### ‚ùå MySQL Connection Failed
```
‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
- MySQL server ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- Username/Password ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- Database 'teachmap_db' ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
```

### ‚ùå Supabase Connection Failed
```
‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
- .env ‡∏°‡∏µ SUPABASE_PASSWORD ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- Supabase project ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á (‡∏£‡∏±‡∏ô SETUP_SUPABASE.sql ‡∏Å‡πà‡∏≠‡∏ô)
```

### ‚ùå Foreign Key Constraint Failed
```
‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á teachers ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏ï‡πà schedule ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á teacher_id

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: Migrate teachers ‡∏Å‡πà‡∏≠‡∏ô schedules (script ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
```

## ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

- Script ‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ `ON CONFLICT` ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ô‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î error
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°‡∏à‡∏∞‡∏ñ‡∏π‡∏Å update ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á
- ID ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏Ñ‡∏á‡πÄ‡∏î‡∏¥‡∏° (‡πÑ‡∏°‡πà generate ‡πÉ‡∏´‡∏°‡πà)
